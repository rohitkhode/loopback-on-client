<html>

<head>
    <script src="js/loopback-app.js"></script>

    <script>
        app = require('loopback-app');

        function createCategory() {
            var model = new app.models.Category();
            model.level = "Year-1";
            model.topic = "Numeracy";
            model.subtopic = "Counting till 10";

            model.save(undefined, function (err, obj) {
                console.log('Response received');
                if (err) {
                    console.log('Error in saving data ', JSON.stringify(err));
                } else {
                    console.log('Saved successfully', obj);
                }
            });
        }

        function createCategoryError() {
            var model = new app.models.Category();
            model.level = "Year-1";
            model.subtopic = "Counting till 10";

            console.log(model.isValid());
            console.log(JSON.stringify(model.errors));
            model.save(undefined, function (err, obj) {
                console.log('Response received');
                if (err) {
                    console.log('Error in saving data ', JSON.stringify(err));
                } else {
                    console.log('Saved successfully', obj);
                }
            });
        }
    </script>
</head>

<body>
    Hello World!

    <button onclick="createCategory()">Create New</button>
    <button onclick="createCategoryError()">Error Example</button>

</body>

</html>